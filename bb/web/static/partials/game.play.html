<div class="game-free" ng-if="!loading">
    <div class="scoreboard">
        <div class="row scoreboard-content">
            <div>
                <div class="emblem col-xs-4 text-right">
                    <div class="gamelabel">
                        Home
                    </div>
                    <div>
                        {{game.home_team.name}}
                    </div>
                    <div class="rerolls">
                        <div ng-repeat="n in [] | range:8" title="{{ 7-$index < game.state.home_state.rerolls ? 'Reroll' : (7-$index < game.state.home_state.rerolls_start ? 'Reroll used' : '') }}" class="reroll home {{ 7-$index < game.state.home_state.rerolls ? 'notused' : (7-$index < game.state.home_state.rerolls_start ? 'used' : 'none') }}"> </div>
                    </div>
                </div>
                <div class="col-xs-1 logo-home text-center">
                    <img src="static/img/teamlogos/{{game.home_team.race.toLowerCase()}}.gif" height="64" width="64" />
                </div>
                <div class="col-xs-2 no-padding">
                    <div class="text-center">
                        <div class="gamelabel">Score</div>
                        <div>{{game.state.home_state.score}} - {{game.state.away_state.score}}</div>
                    </div>
                    <div class="text-center" style="margin-top: -5px;">
                        <div class="team-icons">
                            <span><img src="static/img/weather/{{game.state.weather.toLowerCase()}}.gif" title="Weather is {{ game.state.weather.toLowerCase()}}" width="20px" height="20px" /></span>
                        </div>
                    </div>
                </div>
                <div class="col-xs-1 logo-away text-center">
                    <div>
                        <img src="static/img/teamlogos/{{game.away_team.race.toLowerCase()}}.gif" height="64" width="64" />
                    </div>
                </div>
                <div class="emblem col-xs-4 text-left">
                    <div class="gamelabel">
                        Away
                    </div>
                    <div>
                        {{game.away_team.name}}
                    </div>
                    <div class="rerolls">
                        <div ng-repeat="n in [] | range:8" title="{{ $index < game.state.away_state.rerolls ? 'Reroll' : ($index < game.state.away_state.rerolls_start ? 'Reroll used' : '') }}" class="reroll away {{ $index < game.state.away_state.rerolls ? 'notused' : ($index < game.state.away_state.rerolls_start ? 'used' : 'none') }}"> </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row scoreboard-content">
            <div class="col-xs-4">
                <div class="team-icons text-right">
                    <span class="team-icon"><img src="static/img/team_status/wizard.gif" class="{{ game.state.home_state.wizard_available ? 'available' : 'used' }}" title="Wizard {{ game.state.home_state.wizard_available ? 'ready' : 'not available' }}" width="20px" height="20px" /></span>
                    <span class="team-icon"><img src="static/img/team_status/apoth.gif" class="{{ game.state.home_state.apothecary_available ? 'available' : 'used' }}" title="Apothecary {{ game.state.home_state.apothecary_available ? 'ready' : 'not available' }}" width="20px" height="20px" /></span>
                </div>
            </div>
            <div class="col-xs-1 text-center {{ game.state.team_turn == true ? 'turnmarker-home-turn' : 'turnmarker-home' }}">
                <div class="proclabel">{{game.state.home_state.turn}} / 8</div>
            </div>
            <div class="col-xs-2 text-center proc">
                <div class="proclabel">{{ currentProc() }}</div>
            </div>
            <div class="col-xs-1 text-center {{ game.state.team_turn == false ? 'turnmarker-away-turn' : 'turnmarker-away' }}">
                <div class="proclabel">{{game.state.home_state.turn}} / 8</div>
            </div>
            <div class="col-xs-4">
                <div class="team-icons">
                    <span class="team-icon"><img src="static/img/team_status/apoth.gif" class="{{ game.state.away_state.apothecary_available ? 'available' : 'used' }}" title="Apothecary {{ game.state.away_state.apothecary_available ? 'ready' : 'not available' }}" width="20px" height="20px" /></span>
                    <span class="team-icon"><img src="static/img/team_status/wizard.gif" class="{{ game.state.away_state.wizard_available ? 'available' : 'used' }}" title="Wizard {{ game.state.away_state.wizard_available ? 'ready' : 'not available' }}" width="20px" height="20px" /></span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 {{ game.state.team_turn == true ? 'turnmarker-home-turn' : 'turnmarker-home' }}"></div>
            <div class="col-sm-6 {{ game.state.team_turn == false ? 'turnmarker-away-turn' : 'turnmarker-away' }}"></div>
        </div>
    </div>
</div>

<div class="game-free" ng-if="!loading">

    <div class="gamecontent">

        <div class="square-row">
            <div class="square" ng-repeat="n in [] | range:30" ng-click="square('crowd', $index, 0)"></div>
        </div>

        <div class="gameboard">
            <div class="dugout">
                <div class="square-row" ng-repeat="n in [] | range:14">
                    <div class="square" ng-click="square('dugout-home', $index*2, 0)">
                        <div class="playericon align-middle text-center" ng-if="playerAt('dugout-home', 0, $index*2) != null">
                            <img src="static/img/iconssmall/{{ playerAt('dugout-home', 0, $index*2).icon }}" />
                        </div>
                    </div>
                    <div class="square" ng-click="square('dugout-home', $index*2, 1)">
                        <div class="playericon align-middle text-center" ng-if="playerAt('dugout-home', 1, $index*2) != null">
                            <img src="static/img/iconssmall/{{ playerAt('dugout-home', 1, $index*2).icon }}" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="field">
                <div class="square-row" ng-repeat="row in game.state.field.board.slice(1, game.state.field.board.length-1)">
                    <div class="square" ng-repeat="n in [] | range:row.length-2" ng-click="square('field', $index+1, $parent.$index+1)">
                        <div class="playericon align-middle text-center" ng-if="playerAt('field', $index+1, $parent.$index+1) != null">
                            <img src="static/img/iconssmall/{{ playerAt('field', $index+1, $parent.$index+1).icon }}" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="dugout">
                <div class="square-row" ng-repeat="n in [] | range:14">
                    <div class="square" ng-click="square('dugout-away', $index*2, 0)"></div>
                    <div class="square" ng-click="square('dugout-away', $index*2, 1)"></div>
                </div>
            </div>
        </div>

        <div class="square-row">
            <div class="square" ng-repeat="n in [] | range:30" ng-click="square('crowd', $index, 16)"></div>
        </div>

    </div>

</div>
